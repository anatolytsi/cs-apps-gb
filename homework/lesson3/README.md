# Урок 3. Основы сетевого программирования
### Реализовать простое клиент-серверное взаимодействие по протоколу JIM (JSON instant messaging):
Клиент отправляет запрос серверу --> сервер отвечает соответствующим кодом результата.

Клиент и сервер должны быть реализованы в виде отдельных скриптов,
содержащих соответствующие функции.

Функции клиента:
* сформировать presence-сообщение;
* отправить сообщение серверу;
* получить ответ сервера;
* разобрать сообщение сервера;
* параметры командной строки скрипта `client.py <addr> [<port>]`:
    - addr — ip-адрес сервера;
    - port — tcp-порт на сервере, по умолчанию 7777.

Функции сервера:
* принимает сообщение клиента;
* формирует ответ клиенту;
* отправляет ответ клиенту;
* имеет параметры командной строки:
    - `-p <port>` — TCP-порт для работы (по умолчанию использует 7777);
    - `-a <addr>` — IP-адрес для прослушивания (по умолчанию слушает все доступные адреса).


### Нормальный режим работы

Запуск осуществлен через `python server.py`

##### Сервер:
```console
[21:33:43] Сервер запущен по адресу :7777
[21:33:43] Сервер отвечает: 202 Пользователь user аутентифицирован
[21:33:43] Сервер отвечает: 200 Пользователь user присоединился к чату #geekbrains
[21:33:43] Сервер отвечает: 200 Сообщение от user к #geekbrains доставлено
[21:33:43] Сервер отвечает: 200 Сообщение от user к #geekbrains доставлено
[21:33:43] Сервер отвечает: 200 Пользователь user покинул чат #geekbrains
```


##### Клиент:

Запуск осуществлен через `python client.py -a localhost`

```console
[21:33:43] Клиент подключился к 127.0.0.1:7777
[21:33:43] Аутентификация user...
[21:33:43] Сервер ответил: 202 Пользователь user аутентифицирован
[21:33:43] Шлем presence...
[21:33:43] Пользователь user присоединяется к чату #geekbrains...
[21:33:43] Шлем сообщение от user к #geekbrains: Всем привет в этом чатике!
[21:33:43] Сервер ответил: 200 Пользователь user присоединился к чату #geekbrains
[21:33:43] Шлем сообщение от user к #geekbrains: Ну и больно надо...
[21:33:43] Сервер ответил: 200 Сообщение от user к #geekbrains доставлено
[21:33:43] Пользователь user выходит из чата #geekbrains...
[21:33:43] Сервер ответил: 200 Сообщение от user к #geekbrains доставлено
```


### Аутентификация аутентифицированного пользователя

##### Сервер:
```console
[21:33:49] Сервер отвечает: 200 Пользователь user уже аутентифицирован
```


##### Клиент:
```console
[21:33:49] Клиент подключился к 127.0.0.1:7777
[21:33:49] Аутентификация user...
[21:33:49] Сервер ответил: 200 Пользователь user уже аутентифицирован
```

### Ввод неправильного пароля и попытка выполнить действие

##### Сервер:
```console
[21:33:59] Сервер отвечает: 402 Ошибка! Пользователь user1 не существует или введен неправильный пароль
[21:33:59] Сервер отвечает: 401 Ошибка! Пользователь user1 не авторизован
```

##### Клиент:
```console
[21:33:59] Клиент подключился к 127.0.0.1:7777
[21:33:59] Аутентификация user1...
[21:33:59] Сервер ответил ошибкой: 402 Пользователь user1 не существует или введен неправильный пароль
[21:33:59] Шлем presence...
[21:33:59] Пользователь user1 присоединяется к чату #geekbrains...
[21:33:59] Сервер ответил ошибкой: 401 Пользователь user1 не авторизован
```

### Выход пользователем из чата в котором не состоит

##### Сервер:
```console
[21:34:42] Сервер отвечает: 403 Ошибка! Пользователь user не состоит в чате #geekbrains
```

##### Клиент:
```console
[21:34:42] Клиент подключился к 127.0.0.1:7777
[21:34:42] Пользователь user выходит из чата #geekbrains...
[21:34:42] Сервер ответил ошибкой: 403 Пользователь user не состоит в чате #geekbrains
```

### Выход из несуществующего чат

##### Сервер:
```console
[21:35:20] Сервер отвечает: 400 Ошибка! Чата #geeks не существует
```

##### Клиент:
```console
[21:35:20] Клиент подключился к 127.0.0.1:7777
[21:35:20] Пользователь user выходит из чата #geeks...
[21:35:20] Сервер ответил ошибкой: 400 Чата #geeks не существует
```
